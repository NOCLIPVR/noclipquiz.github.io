<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Noclip Staff Quiz</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #f1f3f6;
      margin: 0;
      padding: 20px;
    }

    .container {
      display: flex;
      justify-content: space-between;
      max-width: 1100px;
      margin: auto;
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.05);
    }

    .quiz-form {
      flex: 1;
      margin-right: 30px;
    }

    .people-picker {
      flex: 1;
      max-width: 300px;
      background: #f7f7f7;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    h1 {
      text-align: center;
      font-size: 28px;
      color: #333;
    }

    .question {
      margin-bottom: 25px;
    }

    .question p {
      font-weight: 600;
      color: #222;
    }

    label {
      display: block;
      margin: 6px 0;
      cursor: pointer;
    }

    input[type="radio"],
    input[type="text"],
    input[type="checkbox"] {
      margin-right: 8px;
    }

    input[type="text"] {
      width: 100%;
      padding: 10px;
      margin-bottom: 20px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }

    button {
      background-color: #0066ff;
      color: white;
      padding: 14px 24px;
      font-size: 16px;
      font-weight: 600;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      transition: background 0.3s;
    }

    button:hover {
      background-color: #004acc;
    }

    .people-picker h3 {
      text-align: center;
      margin-bottom: 15px;
    }

    .people-picker label {
      display: inline-block;
      width: 100%;
      margin-bottom: 5px;
      padding: 6px;
      background: #fff;
      border-radius: 5px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .people-picker label:hover {
      background-color: #0066ff;
      color: white;
    }

    .disabled {
      background-color: #dcdcdc !important;
      color: #a1a1a1 !important;
      pointer-events: none;
    }

    @media (max-width: 800px) {
      .container {
        flex-direction: column;
      }

      .quiz-form {
        margin-right: 0;
        margin-bottom: 30px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="quiz-form">
      <h1>Noclip Staff Quiz</h1>
      <form id="quizForm">
        <input type="text" name="username" placeholder="Enter your name..." required />

        <!-- Questions -->
        <div class="question"><p>1. What is Epic's catchphrase?</p>
          <label><input type="radio" name="q1" value="meep">meep</label>
          <label><input type="radio" name="q1" value="bazinka">bazinka</label>
        </div>

        <div class="question"><p>2. What emoji is ¬ß son?</p>
          <label><input type="radio" name="q2" value="silly billy">silly billy</label>
          <label><input type="radio" name="q2" value="joe bonkers">joe bonkers</label>
          <label><input type="radio" name="q2" value="buckteeth">buckteeth</label>
        </div>

        <!-- More questions ... -->

        <div class="question"><p>14. What is Hollow's real name?</p>
          <input type="text" name="q14" required placeholder="Enter Hollow's real name" />
        </div>

        <button type="submit" id="submitButton">Submit Quiz</button>
      </form>
    </div>

    <!-- People Picker Sidebar -->
    <div class="people-picker">
      <h3>Select up to 7 people:</h3>
      <div class="people-list">
        <label><input type="checkbox" name="people" value="entity974"> entity974</label>
        <label><input type="checkbox" name="people" value="reject"> reject</label>
        <label><input type="checkbox" name="people" value="nollear"> Nollear [Busy Bee Cult]</label>
        <label><input type="checkbox" name="people" value="gorgilious"> gorgilious</label>
        <label><input type="checkbox" name="people" value="woobat"> Woobat</label>
        <label><input type="checkbox" name="people" value="choob"> Choob</label>
        <label><input type="checkbox" name="people" value="kat"> Kat</label>
        <label><input type="checkbox" name="people" value="ItsKayoasVoltia"> !‚òÖ ItsKayoasVoltia ‚òÖ!</label>
        <label><input type="checkbox" name="people" value="¬ß"> ¬ß</label>
        <label><input type="checkbox" name="people" value="epicness"> Epic epicness (MEEP)</label>
        <label><input type="checkbox" name="people" value="redwolf9"> Redwolf9</label>
        <label><input type="checkbox" name="people" value="watcher"> The Watcher</label>
        <label><input type="checkbox" name="people" value="hollow"> Hollow!</label>
        <label><input type="checkbox" name="people" value="leader"> leader</label>
      </div>
    </div>
  </div>

  <script>
    const answers = {
      q1: "meep",
      q2: "buckteeth",
      q3: "evil",
      q4: "gorg",
      q5: "kittys house",
      q6: "meth",
      q7: "roxx",
      q8: "cat",
      q9: "busy bee",
      q10: "red",
      q11: "penguins",
      q12: "bat",
      q13: "kat",
      q14: "Hollow" // This can be dynamic if needed
    };

    let selectedCount = 0;

    // Handle checkbox selection limit (max 7)
    const checkboxes = document.querySelectorAll('input[name="people"]');
    checkboxes.forEach(checkbox => {
      checkbox.addEventListener('change', () => {
        const checkedCheckboxes = document.querySelectorAll('input[name="people"]:checked');
        selectedCount = checkedCheckboxes.length;

        checkboxes.forEach(box => {
          if (selectedCount >= 7 && !box.checked) {
            box.disabled = true; // Disable unchecked boxes once 7 are selected
            box.closest('label').classList.add('disabled');
          } else {
            box.disabled = false; // Enable all boxes if less than 7
            box.closest('label').classList.remove('disabled');
          }
        });
      });
    });

    // Handle form submission
    document.getElementById("quizForm").addEventListener("submit", async function(event) {
      event.preventDefault();
      
      const submitButton = document.getElementById("submitButton");
      submitButton.disabled = true;

      const form = new FormData(event.target);
      const name = form.get("username").trim();
      
      if (!name) {
        alert("Please enter your name before submitting.");
        submitButton.disabled = false;  // Re-enable submit button
        return;
      }

      let results = `üë§ **Name:** ${name}\n`;
      let score = 0;
      let missing = [];

      // Validate answers
      for (let i = 1; i <= 14; i++) {
        const key = `q${i}`;
        const userAnswer = form.get(key);
        const correctAnswer = answers[key];

        if (!userAnswer) {
          missing.push(i);
        } else if (userAnswer === correctAnswer) {
          results += `Q${i}: ‚úÖ (${correctAnswer})\n`;
          score++;
        } else {
          results += `Q${i}: ‚ùå (${correctAnswer})\n`;
        }
      }

      if (missing.length > 0) {
        alert(`Please answer all questions.\nMissing: ${missing.map(q => "Q" + q).join(", ")}`);
        submitButton.disabled = false; // Re-enable submit button
        return;
      }

      // Validate people selection
      const selectedPeople = [...form.getAll("people")];
      if (selectedPeople.length < 1 || selectedPeople.length > 7) {
        alert("Please select between 1 and 7 people.");
        submitButton.disabled = false;
        return;
      }

      const selectedPeopleList = selectedPeople.join(", ");

      // Add Hollow's real name to results
      const hollowName = form.get("q14");
      results += `\n**Hollow's Real Name:** ${hollowName}\n`;

      // Send to webhook
      const payload = {
        content: `üìù **New Quiz Submission**\n\n${results}\n**Selected People:** ${selectedPeopleList}\n**Score: ${score}/14**`
      };

      const webhookUrl = "YOUR_DISCORD_WEBHOOK_URL_HERE"; // Replace with actual URL

      await fetch(webhookUrl, {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(payload)
      });

      alert("Quiz submitted! Your answers have been sent.");
      event.target.reset();
      submitButton.disabled = false; // Re-enable submit button
    });
  </script>
</body>
</html>
