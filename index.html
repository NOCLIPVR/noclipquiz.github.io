<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Epic Staff Quiz</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; background: #f0f0f0; }
    h1 { text-align: center; }
    .question { margin-bottom: 20px; background: #fff; padding: 15px; border-radius: 8px; }
    .question h2 { margin-top: 0; }
    label { display: block; margin: 5px 0; }
    .submit-btn { padding: 10px 20px; font-size: 18px; cursor: pointer; }
    #quiz-container { display: block; }
    #name-container { margin-bottom: 20px; }
  </style>
</head>
<body>

<h1>Epic Staff Quiz</h1>

<!-- Name Input Section -->
<div id="name-container">
  <h2>Please enter your name before submitting the quiz:</h2>
  <input type="text" id="user-name" placeholder="Enter your name" required>
</div>

<!-- Quiz Section -->
<div id="quiz-container">
  <form id="quizForm">

    <!-- Questions 1â€“13 -->
    <div class="question" data-answer="meep">
      <h2>1. What is Epic's catchphrase?</h2>
      <label><input type="radio" name="q1" value="meep"> meep</label>
      <label><input type="radio" name="q1" value="bazinka"> bazinka</label>
    </div>

    <div class="question" data-answer="buckteeth">
      <h2>2. What emoji is Â§'s son?</h2>
      <label><input type="radio" name="q2" value="silly billy"> silly billy</label>
      <label><input type="radio" name="q2" value="joe bonkers"> joe bonkers</label>
      <label><input type="radio" name="q2" value="buckteeth"> buckteeth</label>
    </div>

    <div class="question" data-answer="crazy">
      <h2>3. Whatâ€™s the name of the infamous cat meme on Epic?</h2>
      <label><input type="radio" name="q3" value="happy"> happy</label>
      <label><input type="radio" name="q3" value="crazy"> crazy</label>
      <label><input type="radio" name="q3" value="doggo"> doggo</label>
    </div>

    <div class="question" data-answer="yes">
      <h2>4. Did Epic ever announce a sequel?</h2>
      <label><input type="radio" name="q4" value="yes"> yes</label>
      <label><input type="radio" name="q4" value="no"> no</label>
    </div>

    <div class="question" data-answer="green">
      <h2>5. What is the main color of Epic's logo?</h2>
      <label><input type="radio" name="q5" value="green"> green</label>
      <label><input type="radio" name="q5" value="blue"> blue</label>
      <label><input type="radio" name="q5" value="red"> red</label>
    </div>

    <div class="question" data-answer="sunshine">
      <h2>6. What do we call the bright color used in Epic's brand visuals?</h2>
      <label><input type="radio" name="q6" value="sunshine"> sunshine</label>
      <label><input type="radio" name="q6" value="fire"> fire</label>
      <label><input type="radio" name="q6" value="moonlight"> moonlight</label>
    </div>

    <div class="question" data-answer="jump">
      <h2>7. What is the signature move of the Epic mascot?</h2>
      <label><input type="radio" name="q7" value="jump"> jump</label>
      <label><input type="radio" name="q7" value="slide"> slide</label>
      <label><input type="radio" name="q7" value="run"> run</label>
    </div>

    <div class="question" data-answer="pineapple">
      <h2>8. What is the main fruit featured in the Epic meme?</h2>
      <label><input type="radio" name="q8" value="pineapple"> pineapple</label>
      <label><input type="radio" name="q8" value="apple"> apple</label>
      <label><input type="radio" name="q8" value="banana"> banana</label>
    </div>

    <div class="question" data-answer="sushi">
      <h2>9. What is Epicâ€™s favorite food?</h2>
      <label><input type="radio" name="q9" value="sushi"> sushi</label>
      <label><input type="radio" name="q9" value="pizza"> pizza</label>
      <label><input type="radio" name="q9" value="burger"> burger</label>
    </div>

    <div class="question" data-answer="rocket">
      <h2>10. What vehicle does Epic prefer?</h2>
      <label><input type="radio" name="q10" value="rocket"> rocket</label>
      <label><input type="radio" name="q10" value="car"> car</label>
      <label><input type="radio" name="q10" value="plane"> plane</label>
    </div>

    <div class="question" data-answer="mountain">
      <h2>11. Where is Epic's headquarters located?</h2>
      <label><input type="radio" name="q11" value="mountain"> mountain</label>
      <label><input type="radio" name="q11" value="beach"> beach</label>
      <label><input type="radio" name="q11" value="desert"> desert</label>
    </div>

    <div class="question" data-answer="zero">
      <h2>12. What is the secret number in Epic?</h2>
      <label><input type="radio" name="q12" value="zero"> zero</label>
      <label><input type="radio" name="q12" value="one"> one</label>
      <label><input type="radio" name="q12" value="ten"> ten</label>
    </div>

    <div class="question" data-answer="party">
      <h2>13. What is the best way to celebrate Epicâ€™s success?</h2>
      <label><input type="radio" name="q13" value="party"> party</label>
      <label><input type="radio" name="q13" value="relax"> relax</label>
      <label><input type="radio" name="q13" value="work"> work</label>
    </div>

    <!-- Question 14 -->
    <div class="question" data-answer="meep">
      <h2>14. Fill in the blank: The word is ______.</h2>
      <input type="text" name="q14" required>
    </div>

    <!-- Question 15 -->
    <div class="question" data-answer="staff">
      <h2>15. Choose the staff members (max 7):</h2>
      <label><input type="checkbox" name="q15" value="staff1"> Staff 1</label>
      <label><input type="checkbox" name="q15" value="staff2"> Staff 2</label>
      <label><input type="checkbox" name="q15" value="staff3"> Staff 3</label>
      <label><input type="checkbox" name="q15" value="staff4"> Staff 4</label>
      <label><input type="checkbox" name="q15" value="staff5"> Staff 5</label>
      <label><input type="checkbox" name="q15" value="staff6"> Staff 6</label>
      <label><input type="checkbox" name="q15" value="staff7"> Staff 7</label>
      <label><input type="checkbox" name="q15" value="staff8"> Staff 8</label>
      <label><input type="checkbox" name="q15" value="staff9"> Staff 9</label>
    </div>

    <button class="submit-btn" type="submit" id="submit-btn" disabled>Submit Quiz</button>
  </form>
</div>

<script>
const form = document.getElementById('quizForm');
const submitBtn = document.getElementById('submit-btn');
const userNameInput = document.getElementById('user-name');
const webhookURL = "YOUR_WEBHOOK_URL_HERE"; // Replace with your Discord webhook URL

// Enable/Disable Submit button based on name input
userNameInput.addEventListener('input', function() {
  if (userNameInput.value.trim() !== "") {
    submitBtn.disabled = false;
  } else {
    submitBtn.disabled = true;
  }
});

form.addEventListener('submit', function(e) {
  e.preventDefault();

  const answers = {};
  let valid = true;
  let score = 0;
  let resultText = '';
  const userName = userNameInput.value.trim();

  if (userName === "") {
    alert("Please enter your name before submitting the quiz.");
    return;
  }

  document.querySelectorAll('.question').forEach((q, i) => {
    const name = `q${i + 1}`;
    const correctAnswer = q.getAttribute('data-answer');

    let value = null;
    if (i + 1 === 14) {
      value = form[name].value.trim();
    } else if (i + 1 === 15) {
      const selected = [...form[name]].filter(cb => cb.checked).map(cb => cb.value);
      if (selected.length !== 7) {
        alert('You must select exactly 7 staff members in Question 15.');
        valid = false;
        return;
      }
      value = selected;
    } else {
      const selected = form[name].value;
      if (!selected) {
        valid = false;
        return;
      }
      value = selected;
    }

    if (!value || (Array.isArray(value) && value.length === 0)) {
      valid = false;
    }

    answers[name] = value;

    if (i + 1 !== 14 && i + 1 !== 15) {
      const isCorrect = value === correctAnswer;
      score += isCorrect ? 1 : 0;
      resultText += `Q${i + 1}: ${isCorrect ? 'âœ…' : 'âŒ'} (${value})\n`;
    } else if (i + 1 === 14) {
      resultText += `Q14: âœï¸ (${value})\n`;
    } else {
      resultText += `Q15: ðŸŽ¯ [${value.join(', ')}]\n`;
    }
  });

  if (!valid) {
    alert('Please answer all fields before submitting.');
    return;
  }

  resultText += `\n**Score: ${score}/14**`;
  resultText = `**Name:** ${userName}\n` + resultText; // Add the name to the result

  fetch(webhookURL, {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify({
      content: "ðŸ“ **New Quiz Submission**\n" + resultText
    })
  }).then(() => {
    alert("Submitted successfully!");
    
    // Disable the form and hide submit button after submission
    [...form.elements].forEach(el => el.disabled = true);
    submitBtn.style.display = 'none';
  }).catch(() => {
    alert("Failed to send to Discord webhook.");
  });
});
</script>

</body>
</html>
